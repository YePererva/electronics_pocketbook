var __index = {"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"Electronics Pocketbook","text":"<p>This is Work In Progress on collecting notes for hobbyist electronics.</p>"},{"location":"index.html#structure_of_this_pocketbook","title":"Structure of this \"pocketbook\"","text":"<ul> <li> <p> Schematics snippets</p> <p>Schematics for use either in conjugation with MCU or as individual units. Focuses mostly on 3.3 V logic modules.</p> <p> Getting started</p> </li> <li> <p> EDA</p> <p>This chapter is focused on using KiCAD, its plugins and 3rd-party extensions to design and get manufacturable PCB.</p> <p> Let's get routing</p> </li> <li> <p> DIY PCB</p> <p>This section covers how to make printed circuit boards yourself, such as:</p> <ul> <li>chemistry (etching, tinning, fluxes, flux washing, etc.)</li> <li>devices for DIY PCB (drill regulator, etc)</li> </ul> <p> Make your own PCB</p> </li> <li> <p> Tools</p> <p>Chapter about tools and consumables alike soldering irons, fluxes, as well as their areas of applicability.</p> <p> Get equiped</p> </li> </ul>"},{"location":"DIY_PCB/index.html","title":"DIY PCB","text":""},{"location":"DIY_PCB/chemistry/index.html","title":"Chemistry","text":""},{"location":"DIY_PCB/chemistry/index.html#flux","title":"Flux","text":""},{"location":"DIY_PCB/chemistry/index.html#pcb_etching_solutions","title":"PCB etching solutions","text":""},{"location":"DIY_PCB/chemistry/index.html#photoresist_solder_mask_developing","title":"Photoresist / Solder mask developing","text":""},{"location":"DIY_PCB/chemistry/index.html#flux_cleaners","title":"Flux cleaners","text":""},{"location":"DIY_PCB/chemistry/PCB_etching_solutions.html","title":"PCB etching solutions","text":"<p>Safety disclaimer</p> <p>Enlisted solutions are corrosive and appropriate PPE (personal protection equipment) such as googles and gloves should be used</p> <p>General Suggestions</p> <ul> <li>Don't work with these solutions in metal containers, glass or plastic only</li> <li>Some mixing speeds up the process and prevent deposition/precipitation on the surface of etched copper </li> </ul>"},{"location":"DIY_PCB/chemistry/PCB_etching_solutions.html#hydrogen_peroxide_in_acids","title":"Hydrogen Peroxide in acids","text":"<p>Prepare the solution that contains:</p> <ul> <li>100 ml of 3% Hydrogen Peroxide (H\u2082O\u2082)</li> <li>30 g of citric acid</li> <li>5 g of kitchen (table) salt</li> </ul> <p>Don't store nor reuse this solution, and don't heat above 45 \u00b0C</p> Chemistry behind the process \\[ \\ce{Cu + H2O2 + H3[Cit] -&gt; H[CuCit] + H2O} \\] <p>where, \\(\\ce{Cit}\\) is short for citrate \\(\\ce{[(CH2)2C(OH)(COO)3]^3-}\\). </p>"},{"location":"DIY_PCB/chemistry/PCB_etching_solutions.html#ferric_chloride","title":"Ferric Chloride","text":"<p>Can be prepared from dry chemical by mixing with water in 1:3 ratio. Dissolving process is very self-heating. </p> <p>Also available on market as:</p> <ul> <li>30-60% solution RadioShack PCB Etchant Solution MSDS </li> <li>37-42% solution MG Chemicals 415 MSDS</li> <li>25-50% solution C.I.F. AR412 MSDS</li> </ul> <p>The etching process can be speed-up if solution is warmed-up, but not above 50\u00b0C.</p> Chemistry behind the process \\[ \\ce{2FeCl3 + Cu -&gt; 2FeCl2 + CuCl2 } \\] \\[ \\ce{Cu -&gt; Cu^2+ + 2e^-} \\] \\[ \\ce{Fe^3+\u00a0+ e-\u00a0 -&gt; Fe^2+} \\]"},{"location":"DIY_PCB/chemistry/PCB_etching_solutions.html#persulfates_persulphates","title":"Persulfates (Persulphates)","text":"<p>There are available:</p> <ul> <li>Sodium Persulfate Na\u2082S\u2082O\u2088</li> <li>Ammonium Persulphate (NH\u2084)\u2082S\u2082O\u2088</li> </ul> <p>Chemical reaction and mechanism is the same, but working concentration are different. </p> Chemistry behind the process \\[ \\ce{Cu + S2O8^2- -&gt; Cu^2+ + 2 SO4^2-} \\] <p>Storage</p> <p>Persulfate solutions should not be stored not places in air-tight containers </p>"},{"location":"DIY_PCB/chemistry/PCB_etching_solutions.html#ammonium_persulphate","title":"Ammonium Persulphate","text":"<p>Dissolve 10 g of Ammonium Persulfate in 90 ml of water. For faster etching, the solution can be heat-up to 45-50 \u00b0C.</p> <p>Crystaline powder is available on market as:</p> <ul> <li>MG Chemicals 410 MSDS</li> <li>C.I.F. AR44 MSDS</li> </ul>"},{"location":"DIY_PCB/chemistry/PCB_etching_solutions.html#sodium_persulphate","title":"Sodium Persulphate","text":"<p>Recipe is referring to Sodium persulfate B327 instructions from AG TermoPasty </p> <p>Dissolve 50 g of Sodium persulfate in 250 ml of water at ~40...50\u00b0C.</p>"},{"location":"DIY_PCB/chemistry/PCB_etching_solutions.html#nice_to_take_a_look_at","title":"Nice to take a look at","text":"<ul> <li>Nice demonstration and visual comparison published by NurdRage on YouTube </li> </ul>"},{"location":"DIY_PCB/chemistry/flux_cleaners.html","title":"Flux cleaners","text":""},{"location":"DIY_PCB/chemistry/flux_cleaners.html#for_rosin_flux","title":"For rosin flux","text":"<p>Either ethanol or iso-propyl alcohol.</p>"},{"location":"DIY_PCB/chemistry/flux_cleaners.html#for_rosin_flux_with_petrolatum","title":"For rosin flux with petrolatum","text":"<p>This kind of flux resist washing with alcohols. Better to use commercial products alike Flux-OFF.</p> <p>Sometimes the mix of alcohol with lighter fractions of gasoline or white spirit is used in DIY community. Such mix is extremely flammable. Might be not good for rubber components (bottom of electrolytic capacitors). In post-soviet countries, this fuel is referred to as \"\u041d\u0435\u0444\u0440\u0430\u0441 \u04212-80/120\" and is used for touristic camping stoves.</p>"},{"location":"DIY_PCB/chemistry/tip_refresher.html","title":"Soldering tip cleaner","text":"<p>a.k.a. Tip tinners</p>"},{"location":"DIY_PCB/chemistry/tip_refresher.html#for_nickel-plated_tips","title":"For nickel-plated tips","text":"<p>In a nutshell, it is a mix of solder powder (per say tin or any other alloy) with ammonium phosphate(s), sometimes with extra bonding compound. This is similar to market products:</p> <ul> <li>ThermalTronics TMT-TC-2, MSDS</li> <li>GOOT BS-2, Store page</li> <li>Mechanic MCN 8, MSDS not found</li> <li>SOLINS \u0422\u0422\u0421-20, MSDS not found, contains bonding compound</li> <li>Jaston JSD-40A, MSDS not found</li> <li>YAXUN YX-B2</li> </ul> <p>Example of compositions (by mass):</p> <ul> <li>55 (\u00b110) % of alloy in rest of diammonium phosphate <code>(NH\u2084)\u2082HPO\u2084</code></li> <li>30 (\u00b110) % of alloy + 1 ... 6 % of paraffin wax in ammonium dihydrogen phosphate <code>(NH\u2084)H\u2082PO\u2084</code> (60...75%)</li> </ul> <p>Application:</p> <ol> <li>Preheat the tip to 300\u00b0C-360\u00b0C (double-check with manufacturer instructions)</li> <li>If needed, pre-clean by wiping with metal sponge</li> <li>Rub the tip in the refresher/tinner</li> <li>Apply solder to the tip, and clean the tip with the sponge of the soldering iron stand</li> <li>Apply solder again</li> </ol>"},{"location":"DIY_PCB/devices/PCB_drillpress_motor_controller/index.html","title":"Drill motor controllers for DIY PCB","text":""},{"location":"DIY_PCB/devices/PCB_drillpress_motor_controller/index.html#existing_projects","title":"Existing project(s)","text":""},{"location":"DIY_PCB/devices/PCB_drillpress_motor_controller/index.html#based_on_lm2596","title":"Based on LM2596","text":"<p>Project from channel \u0428\u043e\u0443 \u0411\u043e\u0440\u043e\u0434\u0430\u0442\u043e\u0433\u043e \u0418\u043d\u0436\u0435\u043d\u0435\u0440\u0430. However, the demonstrated in video schematics has error: the LED should be pointing the opposite direction.</p> <p>![[pwm.png]]</p> <p>If replicating, consider: - replace the LDO LM317 with some impulse DC-DC with something alike PT4115 - use 3 inlet screw-terminal (the original author uses transformer, it would be possible to find transformer with middle-point that can be connected to the schematics GND)</p> <p>Another approach would be as here:</p> <p></p>"},{"location":"DIY_PCB/devices/PCB_drillpress_motor_controller/index.html#based_on_mc34063","title":"Based on MC34063","text":"<p>Details are demonstrated here with demonstration of work on YouTube </p> <p>The web-site shows the following schematics, but part-list implies having one more Schottky diode. ![[Pasted image 20250415105731.png]] Perhaps, it is used as reverse-polarity protection after the power inlet terminal.</p> <p>In case of replication, these could be useful upgrades: - drop the LDO and use some PD boards for stable 12V power input - use additional switch for manual ON/OFF     - when incorporated in the actual drill-press it will let motor start only when the drill bit will start  going down - make outer diameter according to used motor and consider having center hole for motor shaft and mounting holes</p>"},{"location":"DIY_PCB/devices/PCB_drillpress_motor_controller/index.html#typical_sizes_of_motors","title":"Typical sizes of motors","text":""},{"location":"DIY_PCB/devices/PCB_drillpress_motor_controller/index.html#555_motor_dimensions","title":"555 motor dimensions","text":"<p>![[Pasted image 20250415105342.png]]</p>"},{"location":"DIY_PCB/devices/PCB_drillpress_motor_controller/index.html#755_motor_dimensions","title":"755 motor dimensions","text":"<p>![[Pasted image 20250415105404.png]]</p>"},{"location":"DIY_PCB/geometry/index.html","title":"Dimensions for DIY PCB projects","text":""},{"location":"DIY_PCB/geometry/index.html#when_using_a_toner_transfer_method","title":"When using a toner transfer method","text":"<ul> <li>Track width : &gt; 0.3 mm</li> <li>Track clearance : &gt; 0.3 mm</li> </ul>"},{"location":"DIY_PCB/geometry/index.html#when_using_photoresist_method","title":"When using photoresist method","text":"<ul> <li>Track width : &gt; 0.2 mm</li> <li>Track clearance : &gt; 0.2 mm</li> </ul>"},{"location":"consumables/index.html","title":"Consumables","text":""},{"location":"consumables/index.html#soldering_consumables","title":"Soldering consumables","text":""},{"location":"consumables/index.html#solder","title":"Solder","text":"<p>Old-school: lead-based solder  </p>"},{"location":"consumables/index.html#solder_flux","title":"Solder flux","text":""},{"location":"consumables/index.html#de-soldering_braid_solder-wick","title":"De-soldering braid (solder-wick)","text":"<p>Ideally, should already have some flux on its surface</p>"},{"location":"schematics/index.html","title":"Schematics","text":"<p>Catalogue of schematics in 2 categories:</p> <ul> <li> <p>MCU</p> <p>schematics, that somehow are related to interaction with microcontrollers. Sensors, buttons, attenuators, etc.</p> </li> <li> <p>Barebone</p> <p>schematics, that can be used individually. per say, regulated power supply, etc.</p> </li> </ul>"},{"location":"schematics/mcu/Analog%20Sensors/index.html","title":"ADC","text":"<p>Thus, to read and calculate voltage at sensor output pin:</p> \\[ V_{input}=\\frac{ADC_{input}}{ADC_{resolution}} \\times V_{ref} \\] <p>where: </p> <ul> <li>\\(ADC_{input}\\) : voltage level at analog input pin</li> <li>\\(ADC_{resolution}\\) : resolution range of certain microcontroller or ADC converter. Can be calculated as: </li> </ul> \\[ADC_{resolution}=2^{bits}-1\\] <ul> <li>\\(bits\\) : ADC resolution digits of certain microcontroller. For many STM32 equals to 12.</li> <li>\\(V_{ref}\\) : reference voltage level. </li> </ul> <p>So, the measured is roughly equal to:</p> \\[ V_{input}=\\frac{ADC_{input}}{2^{12}-1} \\times 3.3 = ADC_{input} \\times 0.000806 [V]=ADC_{input} \\times 0.806 [mV] \\] <p>Which also mean that we can read the voltage with resolution of 0.806 mV.</p>"},{"location":"schematics/mcu/Analog%20Sensors/index.html#some_improvement","title":"Some improvement","text":""},{"location":"schematics/mcu/Analog%20Sensors/index.html#on_measuring_input","title":"On measuring input","text":"<p>If the measuring chain of microcontroller itself introduces the error, it is nice to \"isolate\" sensor. Especially, if voltage dividers are used.</p> <p>This is often achieved with non-inverting attenuator schematics:</p> <p></p> <p>a.k.a. Voltage Follower, Unity Gain Buffer</p> <p>However, notice that MCP601 doesn't quite provide the output voltage near VCC region. Thus, if expecting signal near 3.3V, than power it with 5V. The schematics above is sufficient on frequencies up to approx. 250 KHz.</p> <p>However, if the signal is expected to be noisy, any filter should be installed prior to aattenuator:</p> <p></p> <p>It demonstrates the low-pass filter, where the cut-off frequency would be:</p> \\[ f=\\frac{1}{2\\pi \\times R \\times C} \\] <p>Low-pass - passes only signals with frequencies, lower than designed. a.k.a. high-cut filter.</p>"},{"location":"schematics/mcu/Analog%20Sensors/index.html#on_mcu_board_side","title":"On MCU board side","text":"<p>While MCU might provide 12-bit ADC, to obtain better than 10-bits resolution, consider:</p> <ul> <li>separate analog and digital ground (in case of STM32: VSSA and GNDA)</li> <li>provide extra filter for analog power supply</li> <li>add capacitors to provide stable power:<ul> <li>typical combo 2 \u00d7 Tantalum 1\u03bcF + 2 \u00d7 ceramic 100nF</li> <li>if MCU has multiple VDD pins, add one extra 100nF capacitor per each extra pin</li> </ul> </li> </ul> <p></p>"},{"location":"schematics/mcu/Analog%20Sensors/Temperature/Temperature%20sensors%20with%20voltage%20output.html","title":"Temperature sensors with linear voltage output","text":""},{"location":"schematics/mcu/Analog%20Sensors/Temperature/Temperature%20sensors%20with%20voltage%20output.html#tmp35_tmp36_tmp37","title":"TMP35 / TMP36 / TMP37","text":"<p>datasheet</p> <p></p> <p>Very close to popular in Arduino community LM35 sensor, but TMP3x series can work with 3.3V power supply and can't use higher voltage supply.  Per datasheet is designed to operate when produces &lt;2 V as output!</p> TMP35 TMP36 TMP37 Scale factor, [mV/\u00b0C] 10 10 20 Voltage at reference temperature, [mV] \\(V_{T_{ref}}\\) 250 750 500 Reference temperature, [\u00b0C] \\(T_{ref}\\) 25 25 25 Applicable temperature range per datasheet, [\u00b0C] +10 ... +125 -40 ... +125 +5 ... 100 <p>Some estimated values:</p> TMP35 TMP36 TMP37 Voltage at 0 \u00b0C, [V] 0.0 0.5 0 Temperature at defined voltage, [\u00b0C] 0 V 0.0 -50.0 0 1.1 V 110 60 55 2.0 V 200.0 150.0 100 3.3 V 330.0 280.0 165.0 Reasoning behind selected voltages: <ul> <li>2.0 V : max suggested output per datasheet</li> <li>3.3 V : max theoretical voltage that 3.3V MCU can tolerate</li> <li>1.1 V : There is an option to use 1.1V as ADC reference voltage</li> </ul>"},{"location":"schematics/mcu/Analog%20Sensors/Temperature/Temperature%20sensors%20with%20voltage%20output.html#lm35_lm45_lm50","title":"LM35 / LM45 / LM50","text":"<p>Datasheets: LM35, LM45 and LM50</p> <p>This sensor can't be powered from 3.3V, and can provide more than 3.3V as output. Per datasheet they are not expected to provide more than 1.75V output, might be a good idea to have 1.8V zener on output. </p> <p></p> LM35 LM45 LM50 Scale factor, [mV/\u00b0C] 10 10 10 Voltage at reference temperature, [mV] \\(V_{T_{ref}}\\) 250 1000 750 Reference temperature, [\u00b0C] \\(T_{ref}\\) 25 100 25 Applicable temperature range per datasheet, [\u00b0C] -55 ... +150 -20 ... +100 -40 ... 125 <p>Some estimated values:</p> LM35 LM45 LM50 Voltage at 0 \u00b0C, [V] 0.0 0 0.50 Temperature at defined voltage, [\u00b0C] 0 V 0.0 0 -50.0 1.1 V 110 110 60 1.75 V 175 175 125 3.3 V 330 330 280"},{"location":"schematics/mcu/Analog%20Sensors/Temperature/Temperature%20sensors%20with%20voltage%20output.html#estimation_formulas","title":"Estimation formulas","text":"<ul> <li> <p>for <code>Offset</code> or <code>Voltage at 0 \u00b0C, [V]</code>: $$  Offset = V_{T_{ref}} - \\frac{T_{ref}}{Scale \\ factor} $$</p> </li> <li> <p>Temperature at defined voltage: $$ T_{\u00b0C} = \\frac{V_{output} - V_{T_{ref}}}{Scale \\ factor} + T_{ref} $$</p> </li> </ul> <p>Calculation file is here</p>"},{"location":"schematics/mcu/Analog%20Sensors/Temperature/Temperature%20zener.html","title":"LMx35","text":"<p>Datasheets from STMicroelectronics and Texas Instruments</p> <p></p> <p>This sensor is powered with current, not voltage and <code>R1</code> should be chosen to limit current through the sensor within 0.4 ... 5 mA range.</p> <p>The measures temperature is converted into voltage with scale factor of 10 mV/\u00b0K, which also requires extra conversion into Celsius.</p> <p>And, of course, the current depends on supply voltage and measured temperature. </p> <p>The expected output voltages at operating ranges are:</p> Sensor LM135 LM235 LM335 Temperature range, [\u00b0C] -55 ... +150 -40 ... +125 -40 ... +100 Voltage at lowers temperature, [V] \\(V_{T_{min}}\\) 2.1815 2.3315 2.3315 Voltage at highest temperature, [V] \\(V_{T_{max}}\\) 4.2315 3.9815 3.7315 <p>It exceeds  the highest limit of STM32 ADC, and limit the measurement down to 56.85\u00b0C if powered from 5V and also requires to add safety 3.6V zener to protect the ADC.</p> <p>Estimation of <code>R1</code> can be done:</p> \\[ R1_{max}= \\frac{\\Delta V_{min}}{I_{min}}=\\frac{V_{supply}-V_{T_{max}}}{I_{min}} \\] \\[ R1_{min}= \\frac{\\Delta V_{max}}{I_{max}}=\\frac{V_{supply}-V_{T_{min}}}{I_{max}} \\] <p>Thus, for 5V supply and limited 3.3V ADC output, 1K resistor would suffice.</p>"},{"location":"schematics/mcu/Mechanical%20switches/debouncing_mechanical_switches.html","title":"Debouncing","text":"<p>Mechanical switches may have issue widely referred to as \u201cbouncing\u201d, when fact of single contact closure is recognized as several because of mechanical nature.</p> <p>Such switches include:</p> <ul> <li>buttons (push-buttons, tact-buttons, switches)</li> <li>encoders (incremental encoders, flow-meters)</li> <li>reed switches</li> <li>even some digital Hall-sensors has this problem, if signal wires from sensors are<ul> <li>close to power supply lines</li> <li>or not shielded</li> </ul> </li> <li>too close to source of altering magnetic fields, like in some wheels of electrical bikes proof</li> </ul> <p>For most mechanical buttons, debouncing time of 10 ms is considered as sufficient and is referred to in further calculations.</p>"},{"location":"schematics/mcu/Mechanical%20switches/debouncing_mechanical_switches.html#rc-filter","title":"RC-filter","text":"<p>This is the part of schematics from STM32 Discovery boards</p> <p></p>"},{"location":"schematics/mcu/Mechanical%20switches/debouncing_mechanical_switches.html#discrete_solution_with_schmidt_trigger","title":"Discrete solution with Schmidt trigger","text":"<p>Datasheets from:</p> <ul> <li>Texas Instruments </li> <li>Nexperia</li> </ul> <p>For buttons and encoders:</p> <p></p> <p>This solutions is described in following:</p> <ul> <li>W\u00fcrth Elektronik Support Note Contact debounce circuit for switches</li> <li>Texas Instruments Product Overview Debounce a switch</li> <li>A Guide to debouncing</li> </ul> <p>However, for encoder it also can use cascading of triggers as per TI 74HC14 Datasheet, rev. J, Fig. 5 (this schematic was removed from later revisions). </p> <p></p>"},{"location":"schematics/mcu/Mechanical%20switches/debouncing_mechanical_switches.html#specialized_ic_solution","title":"Specialized IC Solution","text":""},{"location":"schematics/mcu/Mechanical%20switches/debouncing_mechanical_switches.html#max681668176818","title":"MAX6816/6817/6818","text":"<p>Datasheet</p> <p>Single-IC solution for 1 / 2 or 8 channels. Need only bypass capacitor.</p>"},{"location":"schematics/mcu/Mechanical%20switches/debouncing_mechanical_switches.html#mc14490","title":"MC14490","text":"<p>Datasheet from OnSemi and Application note from Bourns.</p> <p>Similar to MAX681_, but has extra 2 pins for capacitor to \"program\" the filtration time. 1 nF would be sufficient for buttons and encoders.</p> <p></p>"},{"location":"schematics/mcu/Mechanical%20switches/debouncing_mechanical_switches.html#logiswitch_ls30","title":"LogiSwitch LS30","text":"<p>Specialized encoder (or 3-channel) debouncer Datasheet</p>"}]}